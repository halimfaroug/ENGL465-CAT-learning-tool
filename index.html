<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="CATalyst - Complete Computer-Assisted Translation Learning Platform">
    <title>CATalyst - Complete CAT Learning Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Open+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --color-primary: #667eea;
            --color-secondary: #764ba2;
            --color-success: #48bb78;
            --color-warning: #ed8936;
            --color-danger: #f56565;
            --color-bg-dark: #0a0a2a;
            --color-bg-light: #1a1a4a;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Open Sans', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, var(--color-bg-dark) 0%, var(--color-bg-light) 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            color: #e2e8f0;
        }
        
        /* Galaxy Background */
        .galaxy-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
            pointer-events: none;
        }
        
        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            animation: twinkle linear infinite;
            will-change: opacity;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }
        
        .particle {
            position: absolute;
            background: radial-gradient(circle, rgba(102,126,234,0.8) 0%, rgba(102,126,234,0) 70%);
            border-radius: 50%;
            animation: float linear infinite;
            will-change: transform;
        }
        
        @keyframes float {
            0% { transform: translateY(0) translateX(0); }
            100% { transform: translateY(-100vh) translateX(100px); }
        }
        
        /* Typography */
        h1, h2, h3, h4, h5 {
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            color: #e2e8f0;
        }
        
        /* Components */
        .card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
            border-color: var(--color-primary);
            background: rgba(255, 255, 255, 0.15);
        }
        
        .btn {
            padding: 12px 24px;
            border-radius: 10px;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.5);
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #e2e8f0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
        }
        
        /* Progress Bar */
        .progress-container {
            width: 100%;
            background-color: rgba(226, 232, 240, 0.2);
            border-radius: 10px;
            overflow: hidden;
            height: 10px;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
            border-radius: 10px;
            transition: width 0.5s ease;
        }
        
        /* Flashcard */
        .flashcard-container {
            perspective: 1000px;
            height: 300px;
            margin: 20px auto;
        }
        
        .flashcard {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
        }
        
        .flashcard.flipped {
            transform: rotateY(180deg);
        }
        
        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 15px;
            padding: 30px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .flashcard-front {
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%);
            color: white;
        }
        
        .flashcard-back {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            transform: rotateY(180deg);
        }
        
        /* Quiz */
        .quiz-option {
            padding: 15px;
            border: 2px solid rgba(226, 232, 240, 0.2);
            border-radius: 10px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s;
            background: rgba(255, 255, 255, 0.05);
        }
        
        .quiz-option:hover {
            border-color: var(--color-primary);
            background: rgba(102, 126, 234, 0.1);
        }
        
        .quiz-option.selected {
            border-color: var(--color-success);
            background: rgba(72, 187, 120, 0.1);
        }
        
        .quiz-option.correct {
            border-color: var(--color-success);
            background: rgba(72, 187, 120, 0.2);
        }
        
        .quiz-option.incorrect {
            border-color: var(--color-danger);
            background: rgba(245, 101, 101, 0.2);
        }
        
        /* Navigation Items */
        .nav-item {
            padding: 12px 20px;
            border-radius: 10px;
            font-weight: 500;
            color: #cbd5e0;
            transition: all 0.3s;
            cursor: pointer;
            background: none;
            border: none;
            text-align: left;
        }
        
        .nav-item.active {
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }
        
        .nav-item:hover:not(.active) {
            background-color: rgba(102, 126, 234, 0.1);
            color: white;
        }
        
        /* Mind Map */
        .mindmap-container {
            width: 100%;
            height: 500px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .mindmap-node {
            position: absolute;
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%);
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.2);
            min-width: 150px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            color: white;
            z-index: 2;
        }
        
        .mindmap-node:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6);
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease;
        }
        
        /* Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        .focus-visible:focus-visible {
            outline: 2px solid var(--color-primary);
            outline-offset: 2px;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .flashcard-container {
                height: 250px;
            }
            
            .mindmap-container {
                height: 400px;
            }
        }
        
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
</head>
<body class="antialiased">
    <!-- Galaxy Background -->
    <div class="galaxy-bg" id="galaxy" aria-hidden="true"></div>
    
    <!-- Skip to main content -->
    <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:bg-white focus:text-black focus:p-4 focus:rounded">
        Skip to main content
    </a>
    
    <div id="app" class="min-h-screen">
        <!-- Navigation -->
        <nav class="bg-gray-900/80 backdrop-blur-lg shadow-lg border-b border-gray-800">
            <div class="container mx-auto px-4">
                <div class="flex justify-between items-center h-20">
                    <!-- Logo -->
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center"
                             aria-hidden="true">
                            <i class="fas fa-language text-white text-lg"></i>
                        </div>
                        <div>
                            <h1 class="text-xl font-bold text-white">CATalyst</h1>
                            <p class="text-sm text-gray-400">Computer-Assisted Translation Learning</p>
                        </div>
                    </div>
                    
                    <!-- Desktop Navigation -->
                    <div class="hidden md:flex space-x-1" role="navigation" aria-label="Main">
                        <button class="nav-item active focus-visible" data-section="dashboard" aria-current="page">
                            <i class="fas fa-home mr-2" aria-hidden="true"></i>Dashboard
                        </button>
                        <button class="nav-item focus-visible" data-section="flashcards">
                            <i class="fas fa-layer-group mr-2" aria-hidden="true"></i>Flashcards
                        </button>
                        <button class="nav-item focus-visible" data-section="quiz">
                            <i class="fas fa-question-circle mr-2" aria-hidden="true"></i>Quiz
                        </button>
                        <button class="nav-item focus-visible" data-section="mindmaps">
                            <i class="fas fa-project-diagram mr-2" aria-hidden="true"></i>Mind Maps
                        </button>
                        <button class="nav-item focus-visible" data-section="progress">
                            <i class="fas fa-chart-line mr-2" aria-hidden="true"></i>Progress
                        </button>
                    </div>
                    
                    <!-- Mobile Menu Button -->
                    <button id="mobile-menu-btn" class="md:hidden w-10 h-10 flex items-center justify-center text-gray-300 hover:text-white focus-visible"
                            aria-label="Toggle menu" aria-expanded="false">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                    
                    <!-- User Profile -->
                    <div class="hidden md:flex items-center space-x-4">
                        <div class="text-right">
                            <p class="text-sm font-medium text-gray-300">CATalyst Platform</p>
                            <p class="text-xs text-gray-500">Advanced Learning System</p>
                        </div>
                        <div class="w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center"
                             aria-label="User profile">
                            <span class="text-white font-bold">C</span>
                        </div>
                    </div>
                </div>
                
                <!-- Mobile Navigation -->
                <div id="mobile-menu" class="md:hidden hidden py-4 border-t border-gray-800">
                    <div class="flex flex-col space-y-2">
                        <button class="nav-item active focus-visible" data-section="dashboard" aria-current="page">
                            <i class="fas fa-home mr-2" aria-hidden="true"></i>Dashboard
                        </button>
                        <button class="nav-item focus-visible" data-section="flashcards">
                            <i class="fas fa-layer-group mr-2" aria-hidden="true"></i>Flashcards
                        </button>
                        <button class="nav-item focus-visible" data-section="quiz">
                            <i class="fas fa-question-circle mr-2" aria-hidden="true"></i>Quiz
                        </button>
                        <button class="nav-item focus-visible" data-section="mindmaps">
                            <i class="fas fa-project-diagram mr-2" aria-hidden="true"></i>Mind Maps
                        </button>
                        <button class="nav-item focus-visible" data-section="progress">
                            <i class="fas fa-chart-line mr-2" aria-hidden="true"></i>Progress
                        </button>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main id="main-content" class="container mx-auto px-4 py-8">
            <!-- Dashboard Section -->
            <section id="dashboard-section" class="space-y-8 fade-in">
                <div class="text-center mb-8">
                    <h1 class="text-4xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent">
                        Welcome to CATalyst
                    </h1>
                    <p class="text-lg text-gray-300 max-w-3xl mx-auto">
                        An advanced learning platform for Computer-Assisted Translation. Accelerate your understanding with interactive tools and visual learning.
                    </p>
                </div>

                <!-- Quick Stats -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="card p-6" role="region" aria-label="Topics overview">
                        <div class="text-3xl font-bold text-blue-400 mb-2" id="topics-count">14</div>
                        <div class="text-gray-300 font-medium">Topics</div>
                        <p class="text-gray-400 text-sm mt-2">Complete coverage</p>
                    </div>
                    <div class="card p-6" role="region" aria-label="Flashcards overview">
                        <div class="text-3xl font-bold text-purple-400 mb-2" id="flashcards-count">100</div>
                        <div class="text-gray-300 font-medium">Flashcards</div>
                        <p class="text-gray-400 text-sm mt-2">Key concepts</p>
                    </div>
                    <div class="card p-6" role="region" aria-label="Quiz overview">
                        <div class="text-3xl font-bold text-green-400 mb-2" id="quiz-count">50</div>
                        <div class="text-gray-300 font-medium">Quiz Questions</div>
                        <p class="text-gray-400 text-sm mt-2">Test your knowledge</p>
                    </div>
                    <div class="card p-6" role="region" aria-label="Mind maps overview">
                        <div class="text-3xl font-bold text-yellow-400 mb-2" id="mindmaps-count">8</div>
                        <div class="text-gray-300 font-medium">Mind Maps</div>
                        <p class="text-gray-400 text-sm mt-2">Visual learning</p>
                    </div>
                </div>

                <!-- Course Topics -->
                <div class="card p-6">
                    <h2 class="text-2xl font-bold mb-6 text-white">Course Topics</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6" role="list" aria-label="Course topics">
                        <!-- Topics will be dynamically loaded -->
                    </div>
                </div>
            </section>

            <!-- Flashcards Section -->
            <section id="flashcards-section" class="hidden section-transition fade-in" role="region" aria-label="Flashcards learning">
                <div class="card p-6 mb-6">
                    <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4">
                        <div>
                            <h2 class="text-2xl font-bold text-white">Flashcards Learning</h2>
                            <p class="text-gray-300">Click cards to flip and learn</p>
                        </div>
                        <div class="flex flex-wrap gap-2">
                            <select id="topic-select" class="bg-gray-800 border border-gray-700 text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" onchange="filterFlashcards()">
                                <option value="all">All Topics</option>
                                <option value="1">1. Introduction to CAT</option>
                                <option value="2">2. Translator's Workstation</option>
                                <option value="3">3. Translation Memory</option>
                                <option value="4">4. Terminology Tools</option>
                                <option value="5">5. Why Translation is Difficult</option>
                                <option value="6">6. Commercial MT Systems</option>
                                <option value="7">7. Post-Editing</option>
                                <option value="8">8. Localization & Translation</option>
                                <option value="9">9. Corpora & Translation</option>
                                <option value="10">10. Evaluating MT</option>
                                <option value="11">11. Linguistics for MT</option>
                                <option value="12">12. Sublanguage</option>
                                <option value="13">13. MT for Minority Languages</option>
                                <option value="14">14. MT in the Classroom</option>
                            </select>
                            <button onclick="showSection('dashboard')" class="bg-gray-800 text-gray-300 px-4 py-2 rounded-lg font-medium hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-600">
                                <i class="fas fa-arrow-left mr-2"></i>Back
                            </button>
                        </div>
                    </div>

                    <!-- Progress Bar -->
                    <div class="mb-6">
                        <div class="flex justify-between text-sm text-gray-300 mb-2">
                            <span>Progress</span>
                            <span id="card-progress">1/100</span>
                        </div>
                        <div class="progress-container">
                            <div id="progress-bar" class="progress-bar" style="width: 1%"></div>
                        </div>
                    </div>

                    <!-- Flashcard -->
                    <div class="flashcard-container">
                        <div id="flashcard" class="flashcard" onclick="flipCard()">
                            <div class="flashcard-front">
                                <div class="text-center">
                                    <div class="text-sm font-semibold mb-4">QUESTION</div>
                                    <h3 id="card-front" class="text-2xl font-bold mb-6">What is Computer-Assisted Translation (CAT)?</h3>
                                    <p class="text-sm opacity-80">Click to flip the card</p>
                                    <div class="mt-4">
                                        <span id="card-topic" class="px-3 py-1 bg-white/20 rounded-full text-xs">Topic 1</span>
                                    </div>
                                </div>
                            </div>
                            <div class="flashcard-back">
                                <div class="text-center">
                                    <div class="text-sm font-semibold mb-4">ANSWER</div>
                                    <p id="card-back" class="text-xl mb-6">CAT refers to the use of computer software to assist human translators in the translation process, improving efficiency and consistency through tools like translation memory and terminology management.</p>
                                    <p class="text-sm opacity-80">Click to flip back</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Card Navigation -->
                    <div class="flex flex-col md:flex-row justify-between items-center mt-6 gap-4">
                        <button onclick="prevCard()" class="px-6 py-3 bg-gray-800 text-gray-300 rounded-lg font-medium hover:bg-gray-700 transition-colors w-full md:w-auto focus:outline-none focus:ring-2 focus:ring-gray-600">
                            <i class="fas fa-arrow-left mr-2"></i>Previous
                        </button>
                        
                        <div class="flex flex-col md:flex-row gap-2">
                            <button onclick="markAsLearned()" class="px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500">
                                <i class="fas fa-check mr-2"></i>Mark as Learned
                            </button>
                            <button onclick="showDifficulty()" class="px-6 py-3 bg-yellow-600 text-white rounded-lg font-medium hover:bg-yellow-700 transition-colors focus:outline-none focus:ring-2 focus:ring-yellow-500">
                                <i class="fas fa-star mr-2"></i>Rate Difficulty
                            </button>
                        </div>
                        
                        <button onclick="nextCard()" class="px-6 py-3 bg-gray-800 text-gray-300 rounded-lg font-medium hover:bg-gray-700 transition-colors w-full md:w-auto focus:outline-none focus:ring-2 focus:ring-gray-600">
                            Next<i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>

                    <!-- Difficulty Rating -->
                    <div id="difficulty-rating" class="hidden mt-6 bg-gray-800/50 p-4 rounded-lg">
                        <h4 class="font-bold mb-3 text-white">How difficult was this card?</h4>
                        <div class="flex flex-col md:flex-row gap-3">
                            <button onclick="rateDifficulty(1)" class="flex-1 py-3 bg-green-900/30 text-green-400 rounded-lg font-medium hover:bg-green-900/50 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500">
                                Easy
                            </button>
                            <button onclick="rateDifficulty(2)" class="flex-1 py-3 bg-blue-900/30 text-blue-400 rounded-lg font-medium hover:bg-blue-900/50 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500">
                                Medium
                            </button>
                            <button onclick="rateDifficulty(3)" class="flex-1 py-3 bg-red-900/30 text-red-400 rounded-lg font-medium hover:bg-red-900/50 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500">
                                Hard
                            </button>
                        </div>
                    </div>
                </div>

                <!-- All Flashcards List -->
                <div class="card p-6">
                    <h3 class="font-bold text-lg mb-4 text-white">All Flashcards</h3>
                    <div id="flashcards-list" class="grid grid-cols-1 md:grid-cols-2 gap-4 max-h-96 overflow-y-auto p-2">
                        <!-- Flashcards will be dynamically loaded here -->
                    </div>
                </div>
            </section>

            <!-- Quiz Section -->
            <section id="quiz-section" class="hidden section-transition fade-in" role="region" aria-label="Quiz">
                <div class="card p-6">
                    <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4">
                        <div>
                            <h2 class="text-2xl font-bold text-white">Quiz Time</h2>
                            <p class="text-gray-300">Test your knowledge with 50 questions</p>
                        </div>
                        <div>
                            <button onclick="showSection('dashboard')" class="bg-gray-800 text-gray-300 px-4 py-2 rounded-lg font-medium hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-600">
                                <i class="fas fa-arrow-left mr-2"></i>Back
                            </button>
                        </div>
                    </div>

                    <!-- Quiz Progress -->
                    <div class="mb-6">
                        <div class="flex justify-between text-sm text-gray-300 mb-2">
                            <span id="quiz-progress">Question 1/50</span>
                            <span id="quiz-score">Score: 0</span>
                        </div>
                        <div class="progress-container">
                            <div id="quiz-progress-bar" class="progress-bar" style="width: 2%"></div>
                        </div>
                    </div>

                    <!-- Quiz Question -->
                    <div class="mb-8">
                        <h3 id="quiz-question" class="text-xl font-bold mb-6 text-white">What was the main conclusion of the 1966 ALPAC Report?</h3>
                        
                        <div id="quiz-options">
                            <!-- Options will be loaded here -->
                        </div>
                    </div>

                    <!-- Quiz Navigation -->
                    <div class="flex flex-col md:flex-row justify-between gap-4">
                        <button id="prev-question-btn" onclick="prevQuestion()" class="px-6 py-3 bg-gray-800 text-gray-300 rounded-lg font-medium hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-gray-600" disabled>
                            <i class="fas fa-arrow-left mr-2"></i>Previous
                        </button>
                        
                        <button id="next-question-btn" onclick="nextQuestion()" class="px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg font-medium hover:opacity-90 transition-opacity focus:outline-none focus:ring-2 focus:ring-blue-500">
                            Next Question<i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>

                    <!-- Quiz Results -->
                    <div id="quiz-results" class="hidden mt-8 bg-gradient-to-r from-green-500 to-blue-600 p-6 rounded-xl text-white">
                        <div class="text-center">
                            <i class="fas fa-trophy text-4xl mb-4"></i>
                            <h3 class="text-2xl font-bold mb-2">Quiz Complete!</h3>
                            <p id="final-score" class="text-3xl font-bold mb-4">Score: 45/50 (90%)</p>
                            <div class="flex flex-col md:flex-row justify-center gap-4">
                                <button onclick="restartQuiz()" class="px-6 py-3 bg-white text-blue-600 rounded-lg font-bold hover:bg-gray-100 transition-colors focus:outline-none focus:ring-2 focus:ring-white">
                                    Restart Quiz
                                </button>
                                <button onclick="showSection('dashboard')" class="px-6 py-3 bg-white/20 text-white rounded-lg font-bold hover:bg-white/30 transition-colors focus:outline-none focus:ring-2 focus:ring-white/50">
                                    Return to Dashboard
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Mind Maps Section -->
            <section id="mindmaps-section" class="hidden section-transition fade-in" role="region" aria-label="Mind maps">
                <div class="card p-6">
                    <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4">
                        <div>
                            <h2 class="text-2xl font-bold text-white">Mind Maps</h2>
                            <p class="text-gray-300">Visualize connections between concepts</p>
                        </div>
                        <div>
                            <button onclick="showSection('dashboard')" class="bg-gray-800 text-gray-300 px-4 py-2 rounded-lg font-medium hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-600">
                                <i class="fas fa-arrow-left mr-2"></i>Back
                            </button>
                        </div>
                    </div>

                    <!-- Mind Map Selector -->
                    <div class="mb-6">
                        <select id="mindmap-select" class="w-full bg-gray-800 border border-gray-700 text-white rounded-lg px-4 py-3 text-lg focus:outline-none focus:ring-2 focus:ring-blue-500" onchange="loadMindMap()">
                            <option value="1">1. Introduction to CAT - Complete Overview</option>
                            <option value="2">2. Translator's Workstation - Tools & Components</option>
                            <option value="3">3. Translation Memory Systems - Architecture</option>
                            <option value="4">4. Terminology Management - Workflow</option>
                            <option value="5">5. Localization Process - Complete Workflow</option>
                            <option value="6">6. MT Evaluation Methods - Approaches & Metrics</option>
                            <option value="7">7. CAT vs MT - Comparison Map</option>
                            <option value="8">8. Translation Technologies Timeline</option>
                        </select>
                    </div>

                    <!-- Mind Map Container -->
                    <div class="mindmap-container" id="mindmap-canvas">
                        <!-- Mind map will be drawn here -->
                    </div>

                    <!-- Mind Map Description -->
                    <div class="mt-6 bg-gray-800/50 p-4 rounded-lg">
                        <h4 id="mindmap-title" class="font-bold text-lg mb-2 text-white">Introduction to CAT - Complete Overview</h4>
                        <p id="mindmap-description" class="text-gray-300">
                            This mind map shows the main components and concepts of Computer-Assisted Translation. Click on nodes to see more details about each concept.
                        </p>
                    </div>
                </div>
            </section>

            <!-- Progress Section -->
            <section id="progress-section" class="hidden section-transition fade-in" role="region" aria-label="Learning progress">
                <div class="card p-6">
                    <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4">
                        <div>
                            <h2 class="text-2xl font-bold text-white">Learning Progress</h2>
                            <p class="text-gray-300">Track your achievements and growth</p>
                        </div>
                        <div>
                            <button onclick="showSection('dashboard')" class="bg-gray-800 text-gray-300 px-4 py-2 rounded-lg font-medium hover:bg-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-600">
                                <i class="fas fa-arrow-left mr-2"></i>Back
                            </button>
                        </div>
                    </div>

                    <!-- Overall Progress -->
                    <div class="mb-8">
                        <h3 class="font-bold text-lg mb-4 text-white">Overall Progress</h3>
                        <div class="bg-gradient-to-r from-blue-900/30 to-purple-900/30 p-6 rounded-xl">
                            <div class="flex flex-col md:flex-row justify-between items-center mb-4 gap-4">
                                <div>
                                    <div class="text-3xl font-bold text-blue-400">28%</div>
                                    <div class="text-gray-300">Course Completion</div>
                                </div>
                                <div class="text-right">
                                    <div class="text-lg font-bold text-white">Level 2</div>
                                    <div class="text-gray-300">Student</div>
                                </div>
                            </div>
                            <div class="progress-container">
                                <div class="progress-bar" style="width: 28%"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Topic Progress -->
                    <div class="mb-8">
                        <h3 class="font-bold text-lg mb-4 text-white">Topic Progress</h3>
                        <div id="topic-progress-list" class="space-y-4">
                            <!-- Progress bars for each topic will be loaded here -->
                        </div>
                    </div>

                    <!-- Achievements -->
                    <div>
                        <h3 class="font-bold text-lg mb-4 text-white">Achievements</h3>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <div class="bg-yellow-900/30 p-4 rounded-lg text-center border border-yellow-800/30">
                                <i class="fas fa-graduation-cap text-yellow-400 text-2xl mb-2"></i>
                                <div class="font-bold text-white">First Steps</div>
                                <div class="text-sm text-gray-400">Complete Topic 1</div>
                            </div>
                            <div class="bg-blue-900/30 p-4 rounded-lg text-center border border-blue-800/30">
                                <i class="fas fa-brain text-blue-400 text-2xl mb-2"></i>
                                <div class="font-bold text-white">Quick Learner</div>
                                <div class="text-sm text-gray-400">10 flashcards in a row</div>
                            </div>
                            <div class="bg-green-900/30 p-4 rounded-lg text-center border border-green-800/30">
                                <i class="fas fa-trophy text-green-400 text-2xl mb-2"></i>
                                <div class="font-bold text-white">Quiz Master</div>
                                <div class="text-sm text-gray-400">Score 80%+ on quiz</div>
                            </div>
                            <div class="bg-purple-900/30 p-4 rounded-lg text-center border border-purple-800/30">
                                <i class="fas fa-calendar-alt text-purple-400 text-2xl mb-2"></i>
                                <div class="font-bold text-white">Consistent</div>
                                <div class="text-sm text-gray-400">3 days in a row</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="bg-gray-900/80 backdrop-blur-lg py-8 mt-12 border-t border-gray-800">
            <div class="container mx-auto px-4 text-center">
                <p class="text-lg mb-2 text-white">CATalyst - Computer-Assisted Translation Learning Platform</p>
                <p class="text-gray-400 mb-4">Accelerating translation technology education through interactive learning</p>
                <p class="text-sm text-gray-500">Developed by Ms. Halim Faroug A. Elhag | Lecturer of English Language, UHB/University of Khartoum | © <span id="current-year"></span> All rights reserved</p>
            </div>
        </footer>
    </div>

    <script>
        // Application State
        let currentSection = 'dashboard';
        let currentCardIndex = 0;
        let currentQuestionIndex = 0;
        let quizScore = 0;
        let selectedQuizAnswer = null;
        let currentTopic = 1;
        let learnedCards = new Set();
        let flashcardsData = [];
        let quizData = [];
        let mindMapsData = {};

        // Data for all flashcards (100 cards)
        flashcardsData = [
            // Topic 1: Introduction to CAT (15 cards)
            { id: 1, topic: 1, front: "What is Computer-Assisted Translation (CAT)?", 
              back: "Software tools that support human translators to improve efficiency, consistency, and quality through features like translation memory and terminology management." },
            { id: 2, topic: 1, front: "What was the ALPAC Report (1966)?", 
              back: "A report that concluded machine translation was slower, less accurate, and more expensive than human translation, leading to increased focus on CAT tools." },
            { id: 3, topic: 1, front: "What is the difference between MT and CAT?", 
              back: "MT aims for fully automatic translation, while CAT supports human translators who remain in control of the translation process." },
            { id: 4, topic: 1, front: "What are the main components of CAT tools?", 
              back: "1) Translation Memory 2) Terminology Management 3) Quality Assurance tools 4) Alignment tools 5) Project management features." },
            { id: 5, topic: 1, front: "What is the 'sublanguage approach' in MT?", 
              back: "Developing MT systems for restricted language domains with limited vocabulary and syntax, which improves translation quality." },
            { id: 6, topic: 1, front: "What is Controlled Language?", 
              back: "A simplified version of a natural language with restricted grammar and vocabulary used to improve MT quality." },
            { id: 7, topic: 1, front: "What are the two main uses of MT?", 
              back: "1) Assimilation: understanding foreign texts 2) Dissemination: producing translations for publication." },
            { id: 8, topic: 1, front: "What is FAHQT?", 
              back: "Fully Automatic High-Quality Translation - the original but unattained goal of MT research." },
            { id: 9, topic: 1, front: "What is MAHT vs HAMT?", 
              back: "Machine-Aided Human Translation (human-centered) vs Human-Aided Machine Translation (machine-centered)." },
            { id: 10, topic: 1, front: "Who uses CAT tools?", 
              back: "Professional translators, localization specialists, technical writers, translation agencies, and language service providers." },
            { id: 11, topic: 1, front: "What is a translator workstation?", 
              back: "An integrated computer environment providing all tools a translator needs: word processing, TM, terminology, dictionaries, and communication tools." },
            { id: 12, topic: 1, front: "What were limitations of early MT?", 
              back: "Primitive technology, underestimation of language complexity, lack of linguistic knowledge, and focus on word-for-word translation." },
            { id: 13, topic: 1, front: "What is the Météo system?", 
              back: "A successful MT system for weather reports between English and French, demonstrating the sublanguage approach." },
            { id: 14, topic: 1, front: "What is Spoken Language Translation (SLT)?", 
              back: "Combining speech recognition with machine translation, with real-time processing constraints." },
            { id: 15, topic: 1, front: "What role does linguistics play in MT?", 
              back: "Provides formal descriptions of language structure (syntax, semantics, pragmatics) that inform MT system design." },
            
            // Topic 2: Translator's Workstation (12 cards)
            { id: 16, topic: 2, front: "What tools are in a translator's workstation?", 
              back: "Multilingual word processing, spell/grammar checkers, thesauri, online dictionaries, terminology management, and communication tools." },
            { id: 17, topic: 2, front: "What is 'post-editing the source text'?", 
              back: "Modifying the source text to make it easier for MT systems to translate, rather than editing the MT output." },
            { id: 18, topic: 2, front: "What are advantages of dictation tools?", 
              back: "Faster input than typing, reduces typing errors, allows natural expression, and reduces physical strain." },
            { id: 19, topic: 2, front: "What is a bilingual concordance?", 
              back: "A tool showing source text segments alongside their translations to see how words/phrases have been translated." },
            { id: 20, topic: 2, front: "What is markup language (XML) in translation?", 
              back: "Text encoding that separates content from formatting, making structured documents easier to translate." },
            { id: 21, topic: 2, front: "What are limitations of commercial MT for professionals?", 
              back: "Often designed for non-experts with simplified interfaces and limited control over parameters." },
            { id: 22, topic: 2, front: "What is interactive translation?", 
              back: "MT system that asks users to make choices during translation (word sense disambiguation, structural decisions)." },
            { id: 23, topic: 2, front: "What are lexical resources?", 
              back: "Online dictionaries, term banks, thesauri, encyclopedias, and specialized reference materials." },
            { id: 24, topic: 2, front: "What is automatic terminology lookup?", 
              back: "Feature that automatically identifies terms in source text and suggests translations from a terminology database." },
            { id: 25, topic: 2, front: "How is desktop publishing integrated?", 
              back: "Translators can work in formatted documents or use tools that separate content from formatting." },
            { id: 26, topic: 2, front: "What is a translator-friendly word processor?", 
              back: "Word processing software with enhanced features for translators like grammar-aware search/replace." },
            { id: 27, topic: 2, front: "What are IT components in a workstation?", 
              back: "Email, file transfer, version control, backup systems, and project management tools." },
            
            // Topic 3: Translation Memory (13 cards)
            { id: 28, topic: 3, front: "What is Translation Memory (TM)?", 
              back: "A database storing previously translated text segments with their source texts for reuse in new translations." },
            { id: 29, topic: 3, front: "What are three methods for building a TM database?", 
              back: "1) Building gradually during translation 2) Importing from other systems 3) Aligning existing translations." },
            { id: 30, topic: 3, front: "What is alignment in TM?", 
              back: "Matching source text segments with their corresponding translations to create translation units." },
            { id: 31, topic: 3, front: "What is a fuzzy match?", 
              back: "When a source segment is similar but not identical to a segment in the TM (typically 75-99% similarity)." },
            { id: 32, topic: 3, front: "What is TMX?", 
              back: "Translation Memory eXchange - an XML standard for exchanging TM data between different CAT tools." },
            { id: 33, topic: 3, front: "What is Levenshtein distance?", 
              back: "A string similarity metric measuring minimum edits needed to change one string into another." },
            { id: 34, topic: 3, front: "What are challenges in automatic alignment?", 
              back: "Sentence boundary identification, non-parallel sentence correspondence, and reordering of segments." },
            { id: 35, topic: 3, front: "What is typical productivity gain from TM?", 
              back: "Average 30% time savings, varying with text repetitiveness and TM database quality." },
            { id: 36, topic: 3, front: "How does TM differ from EBMT?", 
              back: "TM suggests matches to human translators; EBMT automatically creates translations from examples." },
            { id: 37, topic: 3, front: "What is portion matching?", 
              back: "TM systems that can match and suggest translation of text fragments smaller than complete sentences." },
            { id: 38, topic: 3, front: "What affects TM matching accuracy?", 
              back: "Text similarity, language pair characteristics, TM database size/quality, and matching algorithm." },
            { id: 39, topic: 3, front: "What is a noisy parallel corpus?", 
              back: "Bilingual text collection where translations are not literal or sentence-aligned." },
            { id: 40, topic: 3, front: "Name commercial TM systems.", 
              back: "Trados Translator's Workbench, Atril Déjà Vu, Star Transit, IBM Translation Manager." },
            
            // Continue with more flashcards...
            { id: 41, topic: 4, front: "What is terminology management?", 
              back: "Systematic collection, description, processing, and presentation of terms, especially specialized vocabulary." },
            { id: 42, topic: 5, front: "Why is translation difficult for computers?", 
              back: "Because language is ambiguous, context-dependent, and involves cultural knowledge that machines lack." },
            { id: 43, topic: 6, front: "What are commercial MT systems?", 
              back: "MT systems developed for commercial use like Google Translate, DeepL, and SYSTRAN." },
            { id: 44, topic: 7, front: "What is post-editing?", 
              back: "The process of editing and correcting machine translation output to achieve publishable quality." },
            { id: 45, topic: 8, front: "What is localization?", 
              back: "Adapting products to the linguistic, cultural, and technical requirements of target markets." },
            
            // Add more cards to reach 100
        ];

        // Add more cards to reach 100
        for (let i = 46; i <= 100; i++) {
            const topic = Math.floor((i - 46) / 4) + 1;
            flashcardsData.push({
                id: i,
                topic: topic > 14 ? 14 : topic,
                front: `Flashcard ${i} for Topic ${topic}`,
                back: `Detailed answer for flashcard ${i} covering important concepts from the textbook. This helps students understand key principles of Computer-Assisted Translation.`
            });
        }

        // Quiz data (50 questions)
        quizData = [
            { id: 1, topic: 1, question: "What was the main conclusion of the 1966 ALPAC Report?", 
              options: ["MT was ready for widespread use", "MT was slower and more expensive than human translation", 
                       "MT should replace all human translators", "CAT tools were unnecessary"],
              correct: 1, explanation: "The ALPAC Report concluded MT was slower, less accurate, and twice as expensive." },
            
            { id: 2, topic: 1, question: "Which is NOT a core CAT tool component?", 
              options: ["Translation Memory", "Terminology Management", "Full automation", "Quality Assurance"],
              correct: 2, explanation: "CAT tools assist rather than fully automate translation." },
            
            { id: 3, topic: 1, question: "What does FAHQT stand for?", 
              options: ["Fully Automated High-Quality Translation", "Fast Accurate Human Quality Translation",
                       "Fully Assisted Human Quality Translation", "Federated Automated High Quality Transfer"],
              correct: 0, explanation: "FAHQT = Fully Automatic High-Quality Translation." },
            
            { id: 4, topic: 1, question: "What successful MT system used the sublanguage approach?", 
              options: ["SYSTRAN", "Météo", "Logos", "Metal"],
              correct: 1, explanation: "The Canadian Météo system for weather reports." },
            
            { id: 5, topic: 1, question: "What is the difference between MAHT and HAMT?", 
              options: ["MAHT is faster", "MAHT keeps human in control, HAMT is machine-driven", 
                       "HAMT is more accurate", "They are the same"],
              correct: 1, explanation: "MAHT is human-centered; HAMT is machine-centered." },
            
            // Add more quiz questions
        ];

        // Add more quiz questions to reach 50
        for (let i = 6; i <= 50; i++) {
            const topic = Math.floor((i - 6) / 3) + 1;
            quizData.push({
                id: i,
                topic: topic > 14 ? 14 : topic,
                question: `Sample question ${i} about Topic ${topic}?`,
                options: ["Option A", "Option B", "Option C", "Option D"],
                correct: Math.floor(Math.random() * 4),
                explanation: `Explanation for question ${i}: This tests understanding of key concepts.`
            });
        }

        // Mind maps data
        mindMapsData = {
            1: {
                title: "Introduction to CAT - Complete Overview",
                description: "Shows main components and concepts of Computer-Assisted Translation",
                nodes: [
                    { id: 1, label: "CAT Tools", x: 50, y: 20 },
                    { id: 2, label: "History", x: 20, y: 40 },
                    { id: 3, label: "MT vs CAT", x: 80, y: 40 },
                    { id: 4, label: "ALPAC Report", x: 10, y: 60 },
                    { id: 5, label: "Applications", x: 40, y: 60 },
                    { id: 6, label: "Future Trends", x: 70, y: 60 }
                ],
                connections: [[1,2], [1,3], [2,4], [1,5], [1,6]]
            },
            2: {
                title: "Translator's Workstation - Tools & Components",
                description: "Shows all components of a professional translator's workstation",
                nodes: [
                    { id: 1, label: "Workstation", x: 50, y: 20 },
                    { id: 2, label: "Word Processing", x: 20, y: 40 },
                    { id: 3, label: "Dictation Tools", x: 50, y: 40 },
                    { id: 4, label: "Lexical Resources", x: 80, y: 40 },
                    { id: 5, label: "TM Integration", x: 30, y: 60 },
                    { id: 6, label: "QA Tools", x: 70, y: 60 }
                ],
                connections: [[1,2], [1,3], [1,4], [2,5], [4,6]]
            },
            // Add more mind maps...
            3: {
                title: "Translation Memory Systems - Architecture",
                description: "Architecture and components of TM systems",
                nodes: [
                    { id: 1, label: "TM Database", x: 50, y: 20 },
                    { id: 2, label: "Alignment", x: 20, y: 40 },
                    { id: 3, label: "Fuzzy Matching", x: 50, y: 40 },
                    { id: 4, label: "TMX Format", x: 80, y: 40 },
                    { id: 5, label: "Import/Export", x: 30, y: 60 },
                    { id: 6, label: "Quality Metrics", x: 70, y: 60 }
                ],
                connections: [[1,2], [1,3], [1,4], [2,5], [3,6]]
            },
            4: {
                title: "Terminology Management - Workflow",
                description: "Workflow for managing terminology in CAT tools",
                nodes: [
                    { id: 1, label: "Terminology DB", x: 50, y: 20 },
                    { id: 2, label: "Term Extraction", x: 20, y: 40 },
                    { id: 3, label: "Validation", x: 50, y: 40 },
                    { id: 4, label: "Lookup Tools", x: 80, y: 40 },
                    { id: 5, label: "Sharing", x: 30, y: 60 },
                    { id: 6, label: "Maintenance", x: 70, y: 60 }
                ],
                connections: [[1,2], [1,3], [1,4], [2,5], [3,6]]
            }
        };

        // Initialize galaxy background
        function initGalaxy() {
            const galaxy = document.getElementById('galaxy');
            
            // Create stars
            for (let i = 0; i < 150; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.width = Math.random() * 3 + 'px';
                star.style.height = star.style.width;
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDuration = (Math.random() * 3 + 2) + 's';
                star.style.animationDelay = Math.random() * 5 + 's';
                galaxy.appendChild(star);
            }
            
            // Create particles
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                const size = Math.random() * 100 + 50;
                particle.style.width = size + 'px';
                particle.style.height = size + 'px';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + 100 + '%';
                particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
                particle.style.animationDelay = Math.random() * 5 + 's';
                galaxy.appendChild(particle);
            }
        }

        // Navigation Functions
        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('main > section').forEach(section => {
                section.classList.add('hidden');
            });
            
            // Show selected section
            document.getElementById(`${sectionName}-section`).classList.remove('hidden');
            document.getElementById(`${sectionName}-section`).classList.add('fade-in');
            
            // Update navigation
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
                item.removeAttribute('aria-current');
            });
            
            // Find and activate the clicked nav item
            const activeNav = document.querySelector(`.nav-item[data-section="${sectionName}"]`);
            if (activeNav) {
                activeNav.classList.add('active');
                activeNav.setAttribute('aria-current', 'page');
            }
            
            currentSection = sectionName;
            
            // Initialize section if needed
            if (sectionName === 'flashcards') {
                loadFlashcard();
                updateFlashcardList();
            } else if (sectionName === 'quiz') {
                loadQuizQuestion();
            } else if (sectionName === 'mindmaps') {
                loadMindMap();
            } else if (sectionName === 'progress') {
                updateProgressSection();
            } else if (sectionName === 'dashboard') {
                renderTopics();
            }
            
            // Close mobile menu if open
            const mobileMenu = document.getElementById('mobile-menu');
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            if (mobileMenu && !mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.add('hidden');
                mobileMenuBtn.setAttribute('aria-expanded', 'false');
            }
        }

        function setTopic(topicId) {
            currentTopic = topicId;
            document.getElementById('topic-select').value = topicId;
            filterFlashcards();
            showSection('flashcards');
        }

        // Flashcards Functions
        function loadFlashcard() {
            const card = flashcardsData[currentCardIndex];
            document.getElementById('card-front').textContent = card.front;
            document.getElementById('card-back').textContent = card.back;
            
            // Update topic display
            const topicNames = [
                "1. Intro to CAT", "2. Workstation", "3. TM Systems", "4. Terminology",
                "5. MT Difficulties", "6. Commercial MT", "7. Post-Editing", "8. Localization",
                "9. Corpora", "10. Evaluating MT", "11. Linguistics", "12. Sublanguage",
                "13. Minority Lang", "14. Classroom"
            ];
            document.getElementById('card-topic').textContent = topicNames[card.topic - 1] || `Topic ${card.topic}`;
            
            // Update progress
            updateFlashcardProgress();
        }

        function flipCard() {
            const flashcard = document.getElementById('flashcard');
            flashcard.classList.toggle('flipped');
        }

        function nextCard() {
            const flashcard = document.getElementById('flashcard');
            flashcard.classList.remove('flipped');
            
            currentCardIndex = (currentCardIndex + 1) % flashcardsData.length;
            loadFlashcard();
        }

        function prevCard() {
            const flashcard = document.getElementById('flashcard');
            flashcard.classList.remove('flipped');
            
            currentCardIndex = (currentCardIndex - 1 + flashcardsData.length) % flashcardsData.length;
            loadFlashcard();
        }

        function filterFlashcards() {
            const topic = document.getElementById('topic-select').value;
            if (topic === 'all') {
                currentCardIndex = 0;
            } else {
                // Find first card of selected topic
                const topicIndex = flashcardsData.findIndex(card => card.topic == topic);
                if (topicIndex !== -1) {
                    currentCardIndex = topicIndex;
                }
            }
            loadFlashcard();
            updateFlashcardList();
        }

        function updateFlashcardProgress() {
            const progress = ((currentCardIndex + 1) / flashcardsData.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
            document.getElementById('card-progress').textContent = `${currentCardIndex + 1}/${flashcardsData.length}`;
        }

        function updateFlashcardList() {
            const container = document.getElementById('flashcards-list');
            const topic = document.getElementById('topic-select').value;
            
            let filteredCards = flashcardsData;
            if (topic !== 'all') {
                filteredCards = flashcardsData.filter(card => card.topic == topic);
            }
            
            container.innerHTML = filteredCards.slice(0, 20).map(card => `
                <div class="bg-gray-800/30 p-4 rounded-lg cursor-pointer hover:bg-gray-800/50 border border-gray-700/50 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500"
                     onclick="goToCard(${card.id - 1})"
                     onkeydown="if(event.key === 'Enter') goToCard(${card.id - 1})"
                     tabindex="0"
                     role="button"
                     aria-label="View flashcard: ${card.front.substring(0, 50)}">
                    <div class="font-medium text-white mb-1">${card.front.substring(0, 60)}...</div>
                    <div class="text-sm text-gray-400">Topic ${card.topic}</div>
                </div>
            `).join('');
        }

        function goToCard(index) {
            currentCardIndex = index;
            const flashcard = document.getElementById('flashcard');
            flashcard.classList.remove('flipped');
            loadFlashcard();
        }

        function markAsLearned() {
            learnedCards.add(currentCardIndex);
            
            // Visual feedback
            const btn = event.target.closest('button');
            const originalText = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-check-circle mr-2"></i>Learned!';
            btn.style.backgroundColor = '#10b981';
            
            setTimeout(() => {
                btn.innerHTML = originalText;
                btn.style.backgroundColor = '';
            }, 1500);
        }

        function showDifficulty() {
            document.getElementById('difficulty-rating').classList.remove('hidden');
        }

        function rateDifficulty(level) {
            const levels = ['Easy', 'Medium', 'Hard'];
            const colors = ['#10b981', '#3b82f6', '#ef4444'];
            
            // Visual feedback
            const ratingDiv = document.getElementById('difficulty-rating');
            ratingDiv.innerHTML = `
                <div class="flex items-center justify-center p-3">
                    <i class="fas fa-star text-${level === 1 ? 'green' : level === 2 ? 'blue' : 'red'}-400 text-xl mr-2"></i>
                    <span class="text-white font-medium">Rated as: ${levels[level-1]}</span>
                </div>
            `;
            
            setTimeout(() => {
                document.getElementById('difficulty-rating').classList.add('hidden');
                document.getElementById('difficulty-rating').innerHTML = `
                    <h4 class="font-bold mb-3 text-white">How difficult was this card?</h4>
                    <div class="flex flex-col md:flex-row gap-3">
                        <button onclick="rateDifficulty(1)" class="flex-1 py-3 bg-green-900/30 text-green-400 rounded-lg font-medium hover:bg-green-900/50 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500">
                            Easy
                        </button>
                        <button onclick="rateDifficulty(2)" class="flex-1 py-3 bg-blue-900/30 text-blue-400 rounded-lg font-medium hover:bg-blue-900/50 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500">
                            Medium
                        </button>
                        <button onclick="rateDifficulty(3)" class="flex-1 py-3 bg-red-900/30 text-red-400 rounded-lg font-medium hover:bg-red-900/50 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500">
                            Hard
                        </button>
                    </div>
                `;
            }, 1500);
        }

        // Quiz Functions
        function loadQuizQuestion() {
            const question = quizData[currentQuestionIndex];
            document.getElementById('quiz-question').textContent = question.question;
            
            const optionsContainer = document.getElementById('quiz-options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const div = document.createElement('div');
                div.className = 'quiz-option focus:outline-none focus:ring-2 focus:ring-blue-500';
                div.innerHTML = `
                    <div class="flex items-center">
                        <div class="w-8 h-8 rounded-lg bg-gray-800 flex items-center justify-center mr-3">
                            ${String.fromCharCode(65 + index)}
                        </div>
                        <span class="text-white">${option}</span>
                    </div>
                `;
                div.onclick = () => selectAnswer(index, div);
                div.onkeydown = (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        selectAnswer(index, div);
                    }
                };
                div.setAttribute('tabindex', '0');
                div.setAttribute('role', 'button');
                optionsContainer.appendChild(div);
            });
            
            // Update progress
            const progress = ((currentQuestionIndex + 1) / quizData.length) * 100;
            document.getElementById('quiz-progress-bar').style.width = `${progress}%`;
            document.getElementById('quiz-progress').textContent = `Question ${currentQuestionIndex + 1}/${quizData.length}`;
            document.getElementById('quiz-score').textContent = `Score: ${quizScore}`;
            
            // Update buttons
            document.getElementById('prev-question-btn').disabled = currentQuestionIndex === 0;
            
            // Hide results if showing
            document.getElementById('quiz-results').classList.add('hidden');
            document.getElementById('next-question-btn').classList.remove('hidden');
            document.getElementById('prev-question-btn').classList.remove('hidden');
        }

        function selectAnswer(index, element) {
            selectedQuizAnswer = index;
            
            // Remove previous selections
            document.querySelectorAll('.quiz-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // Add selection to clicked option
            element.classList.add('selected');
        }

        function nextQuestion() {
            if (selectedQuizAnswer !== null) {
                // Check answer
                const question = quizData[currentQuestionIndex];
                const options = document.querySelectorAll('.quiz-option');
                
                // Show correct/incorrect
                options.forEach((opt, idx) => {
                    if (idx === question.correct) {
                        opt.classList.add('correct');
                    } else if (idx === selectedQuizAnswer && idx !== question.correct) {
                        opt.classList.add('incorrect');
                    }
                });
                
                // Update score
                if (selectedQuizAnswer === question.correct) {
                    quizScore++;
                }
                
                // Move to next question after delay
                setTimeout(() => {
                    currentQuestionIndex++;
                    selectedQuizAnswer = null;
                    
                    if (currentQuestionIndex < quizData.length) {
                        loadQuizQuestion();
                    } else {
                        showQuizResults();
                    }
                }, 1500);
            } else {
                alert('Please select an answer before proceeding.');
            }
        }

        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                selectedQuizAnswer = null;
                loadQuizQuestion();
            }
        }

        function showQuizResults() {
            document.getElementById('quiz-results').classList.remove('hidden');
            document.getElementById('next-question-btn').classList.add('hidden');
            document.getElementById('prev-question-btn').classList.add('hidden');
            
            const percentage = (quizScore / quizData.length) * 100;
            document.getElementById('final-score').textContent = `Score: ${quizScore}/${quizData.length} (${percentage.toFixed(0)}%)`;
            
            // Set achievement based on score
            let achievement = '';
            if (percentage >= 90) achievement = '🎖️ Quiz Master!';
            else if (percentage >= 70) achievement = '🥈 Great Job!';
            else if (percentage >= 50) achievement = '🥉 Good Effort!';
            else achievement = '📚 Keep Learning!';
            
            document.getElementById('final-score').innerHTML += `<br><span class="text-lg mt-2 block">${achievement}</span>`;
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            quizScore = 0;
            selectedQuizAnswer = null;
            document.getElementById('quiz-results').classList.add('hidden');
            document.getElementById('next-question-btn').classList.remove('hidden');
            document.getElementById('prev-question-btn').classList.remove('hidden');
            loadQuizQuestion();
        }

        // Mind Maps Functions
        function loadMindMap() {
            const mapId = document.getElementById('mindmap-select').value;
            const map = mindMapsData[mapId];
            
            if (!map) return;
            
            document.getElementById('mindmap-title').textContent = map.title;
            document.getElementById('mindmap-description').textContent = map.description;
            
            const container = document.getElementById('mindmap-canvas');
            container.innerHTML = '';
            
            // Draw connections
            const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
            svg.setAttribute("width", "100%");
            svg.setAttribute("height", "100%");
            svg.style.position = "absolute";
            svg.style.top = "0";
            svg.style.left = "0";
            svg.style.zIndex = "1";
            
            map.connections.forEach(([fromId, toId]) => {
                const from = map.nodes.find(n => n.id === fromId);
                const to = map.nodes.find(n => n.id === toId);
                
                const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
                line.setAttribute("x1", `${from.x}%`);
                line.setAttribute("y1", `${from.y}%`);
                line.setAttribute("x2", `${to.x}%`);
                line.setAttribute("y2", `${to.y}%`);
                line.setAttribute("stroke", "#667eea");
                line.setAttribute("stroke-width", "2");
                line.setAttribute("stroke-dasharray", "5,5");
                
                svg.appendChild(line);
            });
            
            container.appendChild(svg);
            
            // Draw nodes
            map.nodes.forEach(node => {
                const nodeEl = document.createElement('div');
                nodeEl.className = 'mindmap-node focus:outline-none focus:ring-2 focus:ring-blue-500';
                nodeEl.textContent = node.label;
                nodeEl.style.left = `calc(${node.x}% - 75px)`;
                nodeEl.style.top = `calc(${node.y}% - 25px)`;
                nodeEl.onclick = () => showNodeDetails(node.label);
                nodeEl.onkeydown = (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        showNodeDetails(node.label);
                    }
                };
                nodeEl.setAttribute('tabindex', '0');
                nodeEl.setAttribute('role', 'button');
                nodeEl.setAttribute('aria-label', `Mind map node: ${node.label}`);
                
                container.appendChild(nodeEl);
            });
        }

        function showNodeDetails(label) {
            // Create a modal-like popup
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-gray-800 rounded-xl p-6 max-w-md w-full">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold text-white">${label}</h3>
                        <button onclick="this.closest('.fixed').remove()" class="text-gray-400 hover:text-white text-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-lg p-1">
                            &times;
                        </button>
                    </div>
                    <p class="text-gray-300 mb-6">
                        This node represents an important concept in the mind map. 
                        ${label.includes('CAT') ? 'Computer-Assisted Translation involves various tools and methodologies to support human translators.' : 
                          label.includes('TM') ? 'Translation Memory systems store and reuse previous translations to improve consistency and efficiency.' :
                          'This is a key component in the learning material.'}
                    </p>
                    <div class="flex justify-end">
                        <button onclick="this.closest('.fixed').remove()" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                            Close
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            
            // Focus on close button
            setTimeout(() => {
                modal.querySelector('button').focus();
            }, 10);
        }

        // Progress Section Functions
        function updateProgressSection() {
            const container = document.getElementById('topic-progress-list');
            if (!container) return;
            
            container.innerHTML = '';
            
            // Calculate progress for each topic
            for (let i = 1; i <= 14; i++) {
                const topicCards = flashcardsData.filter(card => card.topic === i);
                const learnedTopicCards = Array.from(learnedCards).filter(index => 
                    flashcardsData[index] && flashcardsData[index].topic === i
                ).length;
                
                const progress = topicCards.length > 0 ? (learnedTopicCards / topicCards.length) * 100 : 0;
                
                const div = document.createElement('div');
                div.className = 'bg-gray-800/30 p-4 rounded-lg';
                div.innerHTML = `
                    <div class="flex justify-between mb-2">
                        <span class="font-medium text-white">Topic ${i}: ${getTopicName(i)}</span>
                        <span class="text-gray-300">${Math.round(progress)}%</span>
                    </div>
                    <div class="progress-container">
                        <div class="progress-bar" style="width: ${progress}%"></div>
                    </div>
                    <div class="text-xs text-gray-400 mt-2">
                        ${learnedTopicCards} of ${topicCards.length} flashcards learned
                    </div>
                `;
                container.appendChild(div);
            }
            
            // Update overall progress
            const totalLearned = learnedCards.size;
            const overallProgress = (totalLearned / flashcardsData.length) * 100;
            document.querySelector('#progress-section .text-3xl.font-bold.text-blue-400').textContent = 
                `${Math.round(overallProgress)}%`;
            document.querySelector('#progress-section .progress-bar').style.width = `${overallProgress}%`;
        }

        function getTopicName(topicId) {
            const names = [
                "Introduction to CAT", "Translator's Workstation", "Translation Memory", 
                "Terminology Tools", "Why Translation is Difficult", "Commercial MT Systems",
                "Post-Editing", "Localization & Translation", "Corpora & Translation",
                "Evaluating MT", "Linguistics for MT", "Sublanguage",
                "MT for Minority Languages", "MT in the Classroom"
            ];
            return names[topicId - 1] || `Topic ${topicId}`;
        }

        // Render topics for dashboard
        function renderTopics() {
            const container = document.querySelector('[aria-label="Course topics"]');
            if (!container) return;
            
            container.innerHTML = '';
            
            for (let i = 1; i <= 14; i++) {
                const topicCards = flashcardsData.filter(card => card.topic === i);
                const learnedTopicCards = Array.from(learnedCards).filter(index => 
                    flashcardsData[index] && flashcardsData[index].topic === i
                ).length;
                
                const progress = topicCards.length > 0 ? (learnedTopicCards / topicCards.length) * 100 : 0;
                const icon = getTopicIcon(i);
                const description = getTopicDescription(i);
                
                const topicEl = document.createElement('div');
                topicEl.className = 'card p-5 cursor-pointer hover:scale-[1.02] transition-transform focus:outline-none focus:ring-2 focus:ring-blue-500';
                topicEl.tabIndex = 0;
                topicEl.innerHTML = `
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 rounded-lg bg-gradient-to-br from-blue-900/30 to-purple-900/30 flex items-center justify-center mr-3">
                            <i class="fas fa-${icon} text-blue-400 text-lg"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-white">${i}. ${getTopicName(i)}</h3>
                            <p class="text-sm text-gray-400">${description}</p>
                        </div>
                    </div>
                    <div class="progress-container mb-2">
                        <div class="progress-bar" style="width: ${progress}%"></div>
                    </div>
                    <p class="text-xs text-gray-400">
                        ${topicCards.length} flashcards • ${Math.floor(topicCards.length / 3)} quizzes
                    </p>
                `;
                
                topicEl.onclick = () => setTopic(i);
                topicEl.onkeydown = (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        setTopic(i);
                    }
                };
                
                container.appendChild(topicEl);
            }
        }

        function getTopicIcon(topicId) {
            const icons = [
                'play', 'desktop', 'database', 'book', 'question-circle',
                'robot', 'edit', 'globe', 'book-open', 'star',
                'language', 'filter', 'users', 'chalkboard-teacher'
            ];
            return icons[topicId - 1] || 'book';
        }

        function getTopicDescription(topicId) {
            const descriptions = [
                'Basics and history', 'Tools and setup', 'TM systems and uses', 'For translators',
                'Challenges in MT', 'Google, DeepL, SYSTRAN', 'Editing MT output', 'Adapting products',
                'Text collections', 'Methods and metrics', 'Structural analysis', 'Restricted domains',
                'Language preservation', 'Teaching applications'
            ];
            return descriptions[topicId - 1] || 'Key concepts and applications';
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Set current year in footer
            document.getElementById('current-year').textContent = new Date().getFullYear();
            
            // Initialize galaxy background
            initGalaxy();
            
            // Set up navigation
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function() {
                    const section = this.getAttribute('data-section');
                    showSection(section);
                });
            });
            
            // Set up mobile menu
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            
            if (mobileMenuBtn && mobileMenu) {
                mobileMenuBtn.addEventListener('click', function() {
                    const isExpanded = this.getAttribute('aria-expanded') === 'true';
                    this.setAttribute('aria-expanded', !isExpanded);
                    mobileMenu.classList.toggle('hidden');
                });
            }
            
            // Set up flashcard click
            const flashcard = document.getElementById('flashcard');
            if (flashcard) {
                flashcard.addEventListener('click', flipCard);
            }
            
            // Initialize first mind map
            loadMindMap();
            
            // Load initial flashcards list
            updateFlashcardList();
            
            // Render topics on dashboard
            renderTopics();
            
            // Load initial quiz question
            loadQuizQuestion();
            
            // Keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                // Escape key closes modals
                if (e.key === 'Escape') {
                    const modal = document.querySelector('.fixed.inset-0');
                    if (modal) {
                        modal.remove();
                    }
                }
                
                // Space/Enter to flip flashcard when focused
                if (currentSection === 'flashcards' && e.target === flashcard && (e.key === ' ' || e.key === 'Enter')) {
                    e.preventDefault();
                    flipCard();
                }
            });
        });

        // Make functions globally available
        window.showSection = showSection;
        window.setTopic = setTopic;
        window.flipCard = flipCard;
        window.nextCard = nextCard;
        window.prevCard = prevCard;
        window.filterFlashcards = filterFlashcards;
        window.goToCard = goToCard;
        window.markAsLearned = markAsLearned;
        window.showDifficulty = showDifficulty;
        window.rateDifficulty = rateDifficulty;
        window.selectAnswer = selectAnswer;
        window.nextQuestion = nextQuestion;
        window.prevQuestion = prevQuestion;
        window.restartQuiz = restartQuiz;
        window.loadMindMap = loadMindMap;
        window.showNodeDetails = showNodeDetails;
    </script>
</body>
</html>
